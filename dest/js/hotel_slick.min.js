$(document).ready(function(){function a(){var a='<li class="hotel-1-empty">Sorry, no results found.  Please try again.</li>';$("#hotel-1").slick("slickAdd",a,!1)}function b(a,b){var c='<li data-index_position="'+b+'">';return c+='<div class="hotel-2-slide">',c+='<img src="images/'+a.image.src+'-small.jpg" width="100%" height="100%" alt="'+a.image.src+'"></div>',c+="<h6>",c+=a.name,c+="</h6>",c+="<p>(",c+=a.category.category_filter,c+=")</p>",c+="</li>"}function c(a){switch(a){case"medium":var b=0;$("#hoteltable tbody tr").each(function(){var a=$(this);if(rowData=l.row(a).data(),"undefined"!=typeof rowData){b++;var c="<li>";c+='<div class="hotel-1-slide">',c+='<button class="toggle-info show-info" data-info_index="'+b+'">Show Info</button>',c+='<button class="toggle-info hide-info" data-info_index="'+b+'">Hide Info</button>',c+='<img src="images/'+rowData.image.src+'-medium.jpg" width="100%" height="100%" alt="'+rowData.image.src+'"/>',c+='<div class="hotel-1-slide-overlay-player" data-video_id="'+rowData.image.video_id+'">',c+='<button class="play-button">',c+="Play Video",c+="</button>",c+="</div>",c+="</div>",c+="</li>",$("#hotel-1").slick("slickAdd",c,!1)}});break;case"mobile":var b=0;$("#hoteltable tbody tr").each(function(){var a=$(this);if(rowData=l.row(a).data(),"undefined"!=typeof rowData){b++;var c="<li>";c+='<div class="hotel-1-slide">',c+='<img src="images/'+rowData.image.src+'-mobile.jpg" width="100%" height="100%" alt="'+rowData.image.src+'"/>',c+='<div class="hotel-1-slide-overlay-player" data-video_id="'+rowData.image.video_id+'">',c+='<button class="play-button">',c+="Play Video",c+="</button>",c+="</div>",c+='<button class="toggle-info show-info" data-info_index="'+b+'">Show Info</button>',c+='<button class="toggle-info hide-info" data-info_index="'+b+'">Hide Info</button>',c+="</div>",c+="</li>",$("#hotel-1").slick("slickAdd",c,!1)}})}}function d(a){switch(a){case"large":$(".hotel-1-slide-overlay-player").css({width:$(".hotel-1-slide").width()/2-10+"px",height:$(".hotel-1-slide").width()/3.047619047619048-10+"px",top:"5px",right:"5px","background-color":"rgba(255, 255, 255, 0.5)"});break;case"small":$(".hotel-1-slide-overlay-player").css({width:$(".hotel-1-slide").width()+"px",height:$(".hotel-1-slide").width()/1.777777777778+"px",top:"0px",right:"0px","background-color":"rgba(255, 255, 255, 0.25)"})}}function e(){$("#hotel-1 .hide-info").hide();var a;$("#hotel-1 .show-info").click(function(){$("#hotel-1").slick("slickPause"),a=$(this).data("info_index")-1,$("#hoteldesclist li").eq(a).show(),$(this).hide(),$(this).siblings(".hide-info").show()}),$("#hotel-1 .hide-info").click(function(){a=$(this).data("info_index")-1,$("#hoteldesclist li").eq(a).hide(),$(this).hide(),$(this).siblings(".show-info").show()})}function f(){$("#hotel-1").slick("slickPlay"),$("#hoteldesclist li").filter(":visible").hide(),$("#hotel-1 .toggle-info.hide-info").filter(":visible").hide(),$("#hotel-1 .toggle-info.show-info").filter(":hidden").show()}function g(){$("#hotel-1 .play-button").click(function(){$("#hotel-1").slick("slickPause");var a=$(this).parent("div").data("video_id");$(this).replaceWith('<iframe id="ytplayer" type="text/html" width="100%" height="100%" src="http://www.youtube.com/embed/'+a+'?autoplay=1&rel=0&controls=2&rel=0 frameborder="0"/>')})}function h(){var a='<button class="play-button">Play Video</button>',b=$("#hotel-1 iframe");b.length>0&&(b.replaceWith(a),$("#hotel-1").slick("slickPlay"))}function i(){if($(window).width()>640){for(hotel1SlideBeforeResize=$("#hotel-1").slick("slickCurrentSlide");$("#hotel-1 li").length>0;)$("#hotel-1").slick("slickRemove",!1);$("#hoteltable tbody tr td.dataTables_empty").length>=1?a():$("#hoteltable tbody tr td.dataTables_empty").length<1&&(c("medium"),d("large"),0!=hotel1SlideBeforeResize&&$("#hotel-1").slick("slickGoTo",hotel1SlideBeforeResize,!0),currentHotelSlide=$("#hotel-1").slick("slickCurrentSlide"),f(),h(),$("#hotel-1").slick("slickPlay"),e(),j(),g(),$("#hotel-1").on("afterChange",function(a,b,c){$("#hotel-2").slick("slickGoTo",c),f(),h(),g()}))}else if($(window).width()<=640){for(hotel1SlideBeforeResize=$("#hotel-1").slick("slickCurrentSlide");$("#hotel-1 li").length>0;)$("#hotel-1").slick("slickRemove",!1);$("#hoteltable tbody tr td.dataTables_empty").length>=1?a():$("#hoteltable tbody tr td.dataTables_empty").length<1&&(c("mobile"),d("small"),0!=hotel1SlideBeforeResize&&$("#hotel-1").slick("slickGoTo",hotel1SlideBeforeResize,!0),currentHotelSlide=$("#hotel-1").slick("slickCurrentSlide"),f(),h(),$("#hotel-1").slick("slickPlay"),e(),j(),g(),$("#hotel-1").on("afterChange",function(a,b,c){$("#hotel-2").slick("slickGoTo",c),f(),h(),g()}))}}function j(){$("#hoteltable .scrollUp-button").click(function(){var a=$(this),b=a.data("index_position")-1;$("#hotel-1").slick("slickGoTo",b),$("html, body").animate({scrollTop:$("#hotel-1-container").offset().top},10)})}var k=function(){var a={};return function(b,c,d){d||(d="failedID"),a.uniqueId&&clearTimeout(a.uniqueId),a.uniqueId=setTimeout(b,c)}}(),l=$("#hoteltable").DataTable();$("#hotel-1").slick({slide:"li",fade:!0,autoplay:!0,autoplaySpeed:6e3,pauseOnHover:!1}),$("#hotel-2").slick({slide:"li",slidesToShow:5,slidesToScroll:1,lazyLoad:"progressive"}),l.on("draw.dt",function(){for(var m;$("#hotel-2 li").length>0;)$("#hotel-2").slick("slickRemove",!1);if($("#hoteltable tbody tr td.dataTables_empty").length<1){var n=0;$("#hoteltable tbody tr").each(function(){var a=$(this);if(m=l.row(a).data(),n++,"undefined"!=typeof m){var c=b(m,n);$("#hotel-2").slick("slickAdd",c,!1)}}),$("#hotel-2 li").click(function(){var a=$(this).data("index_position");$("#hotel-1").slick("slickGoTo",a-1)})}if($(window).width()>640){for(;$("#hotel-1 li").length>0;)$("#hotel-1").slick("slickRemove",!1);$("#hoteltable tbody tr td.dataTables_empty").length>=1?a():$("#hoteltable tbody tr td.dataTables_empty").length<1&&(c("medium"),d("large"),$("#hotel-1").slick("slickPlay"),currentHotelSlide=$("#hotel-1").slick("slickCurrentSlide"),e(),j(),g(),$("#hotel-1").on("afterChange",function(a,b,c){$("#hotel-2").slick("slickGoTo",c),f(),h(),g()}))}else if($(window).width()<=640){for(;$("#hotel-1 li").length>0;)$("#hotel-1").slick("slickRemove",!1);$("#hoteltable tbody tr td.dataTables_empty").length>=1?a():$("#hoteltable tbody tr td.dataTables_empty").length<1&&(c("mobile"),d("small"),$("#hotel-1").slick("slickPlay"),currentHotelSlide=$("#hotel-1").slick("slickCurrentSlide"),e(),j(),g(),$("#hotel-1").on("afterChange",function(a,b,c){$("#hotel-2").slick("slickGoTo",c),f(),h(),g()}))}$(window).resize(function(){k(i,250,"slickResize")})})});