$(document).ready(function(){function a(){for(var a=$("#hoteltable").DataTable();$("#hoteldesclist li").length>0;)$("#hoteldesclist").empty();$("#hoteltable tbody tr").each(function(){var b=$(this);if(rowData=a.row(b).data(),"undefined"!=typeof rowData){var c="<li>";c+="<h5>",c+=rowData.name,c+="</h5>",c+="<p>",c+=rowData.description,c+="</p>",c+="<h6>Price (approx.): ",c+=rowData.price.price_display,c+="</h6>",c+="</li>",$("#hoteldesclist").append(c)}});var b=0;$("#hoteltable tbody tr div.table-thumb").each(function(){var a=$(this);b++,a.children(".scrollUp-button").length>0&&a.children(".scrollUp-button").remove(),a.append('<div class="scrollUp-button" data-index_position="'+b+'">Scroll Up</div>')}),$("input.form-control.input-sm").keydown(function(b){13==b.keyCode&&a.search($("input.form-control.input-sm").val()).draw()}),$(".search-reset.reset-button").click(function(){$("input.form-control.input-sm").val(""),a.search("").draw()})}var b=$("#hoteltable").dataTable({ajax:"hotel.json",dom:'<"row"<"col-sm-6 col-xs-12"i>>rt<"row"<"col-sm-6 col-xs-12"i>>',order:[[0,"asc"]],infoCallback:function(a,b,c,d,e,f){return b+" to "+c+" of "+d+" items"},columnDefs:[{data:"index",className:"never",targets:0},{data:"name",className:"all",targets:1},{data:"image",render:function(a,b,c,d){return'<div class="table-thumb"><img src="images/'+a.src+'-small.jpg" width="100%" height="100%" alt="'+a.src+'" data-video_id="'+a.video_id+'"></div>'},className:"all",orderable:!1,targets:2},{data:"price",render:{_:"price_display",filter:"price_filter",sort:"price_sort",display:"price_display"},className:"min-tablet",type:"num-fmt",targets:3},{data:"category",render:{_:"category_display",filter:"category_filter",sort:"category_sort",display:"category_display"},className:"min-tablet",targets:4},{data:"description",className:"none",orderable:!1,targets:5},{data:"control",className:"all control",orderable:!1,targets:-1}],autoWidth:!0,scrollY:"600",paging:!1,info:!0,responsive:{details:{type:"column",target:-1}},drawCallback:a});$("input.form-control.input-sm").val(""),$("#sort-name option:eq(0)").prop("selected",!0),$("#sort-price option:eq(0)").prop("selected",!0),$("#category-filter option:eq(0)").prop("selected",!0);var b=$("#hoteltable").DataTable();$("#sort-name").change(function(){$("#sort-price option:eq(0)").prop("selected",!0);var a=$(this).val();switch(a){case"reset":b.order([0,"asc"]).draw();break;case"asc":b.order([1,"asc"]).draw();break;case"desc":b.order([1,"desc"]).draw()}}),$(".sort-name-reset").click(function(){$("#sort-name option:eq(0)").prop("selected",!0),$("#sort-price option:eq(0)").prop("selected",!0),b.order([0,"asc"]).draw()}),$("#sort-price").change(function(){$("#sort-name option:eq(0)").prop("selected",!0);var a=$(this).val();switch(a){case"reset":b.order([0,"asc"]).draw();break;case"lowtohigh":b.order([3,"asc"]).draw();break;case"hightolow":b.order([3,"desc"]).draw()}}),$(".sort-price-reset").click(function(){$("#sort-price option:eq(0)").prop("selected",!0),$("#sort-name option:eq(0)").prop("selected",!0),b.order([0,"asc"]).draw()}),$("#category-filter").change(function(){var a=$(this).val();"reset"==a?b.columns().search("").draw():b.column(4).search(a).draw()}),$(".category-filter-reset").click(function(){$("#category-filter option:eq(0)").prop("selected",!0),b.columns().search("").draw()}),$(".all-reset").click(function(){$("input.form-control.input-sm").val(""),b.search("").draw(),$("#category-filter option:eq(0)").prop("selected",!0),b.columns().search("").draw(),$("#sort-name option:eq(0)").prop("selected",!0),$("#sort-price option:eq(0)").prop("selected",!0),b.order([0,"asc"]).draw()})});