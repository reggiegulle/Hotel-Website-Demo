$(document).ready(function(){function a(){var a=window.navigator.userAgent,b=a.indexOf("MSIE ");if(b>0)return parseInt(a.substring(b+5,a.indexOf(".",b)),10);var c=a.indexOf("Trident/");if(c>0){var d=a.indexOf("rv:");return parseInt(a.substring(d+3,a.indexOf(".",d)),10)}var e=a.indexOf("Edge/"),f="edgeTrue";return e>0?f:!1}function b(a){switch(a){case"bxslider":for(;$("#hotel-1 li").length>0;)$("#hotel-1").empty();var b='<li class="no_results">';b+="<p>",b+="Sorry, no search results found.  Please try again.",b+="</p>",b+="</li>",$("#hotel-1").append(b),x.reloadSlider({mode:"fade",pager:!1}),o(),$("#progressBar").css({width:"0%"});break;case"slick":var b='<li class="no_results">';b+="<p>",b+="Sorry, no search results found.  Please try again.",b+="</p>",b+="</li>",$("#hotel-1").slick("slickAdd",b,!1)}}function c(a,b){switch(a){case"medium":for(var c=0;$("#hotel-1 li").length>0;)$("#hotel-1").empty();$("#hoteltable tbody tr").each(function(){var a=$(this);if(rowData=w.row(a).data(),"undefined"!=typeof rowData){c++;var d="<li>";d+='<div class="hotel-1-slide">',d+='<button class="toggle-info show-info" data-info_index="'+c+'">Show Info</button>',d+='<button class="toggle-info hide-info" data-info_index="'+c+'">Hide Info</button>',d+='<img src="images/'+rowData.image.src+'-medium.jpg" width="100%" height="100%" alt="'+rowData.image.src+'"/>',d+='<div class="hotel-1-slide-overlay-player" data-video_id="'+rowData.image.video_id+'">',d+='<button class="play-button">',d+="Play Video",d+="</button>",d+="</div>",d+="</div>",d+="</li>","bxslider"===b?$("#hotel-1").append(d):"slick"==b&&$("#hotel-1").slick("slickAdd",d,!1)}});break;case"mobile":var c=0;$("#hoteltable tbody tr").each(function(){var a=$(this);if(rowData=w.row(a).data(),"undefined"!=typeof rowData){c++;var d="<li>";d+='<div class="hotel-1-slide">',d+='<img src="images/'+rowData.image.src+'-mobile.jpg" width="100%" height="100%" alt="'+rowData.image.src+'"/>',d+='<div class="hotel-1-slide-overlay-player" data-video_id="'+rowData.image.video_id+'">',d+='<button class="play-button">',d+="Play Video",d+="</button>",d+="</div>",d+='<button class="toggle-info show-info" data-info_index="'+c+'">Show Info</button>',d+='<button class="toggle-info hide-info" data-info_index="'+c+'">Hide Info</button>',d+="</div>",d+="</li>","bxslider"===b?$("#hotel-1").append(d):"slick"==b&&$("#hotel-1").slick("slickAdd",d,!1)}})}}function d(a){switch(a){case"large":$(".hotel-1-slide-overlay-player").css({width:$(".hotel-1-slide").width()/2-10+"px",height:$(".hotel-1-slide").width()/3.047619047619048-10+"px",top:"5px",right:"5px","background-color":"rgba(255, 255, 255, 0.5)"});break;case"small":$(".hotel-1-slide-overlay-player").css({width:$(".hotel-1-slide").width()+"px",height:$(".hotel-1-slide").width()/1.777777777778+"px",top:"0px",right:"0px","background-color":"rgba(255, 255, 255, 0.25)"})}}function e(){for(;$("#hotel-2 li").length>0;)$("#hotel-2").empty();y.reloadSlider({pager:!1})}function f(a,b){var c='<li data-index_position="'+b+'">';return c+='<div class="hotel-2-slide">',c+='<img src="images/'+a.image.src+'-small.jpg" width="100%" height="100%" alt="'+a.image.src+'"></div>',c+="<h6>",c+=a.name,c+="</h6>",c+="<p>(",c+=a.category.category_filter,c+=")</p>",c+="</li>"}function g(a){$("#hotel-1 .hide-info").hide();var b;"bxslider"===a?$("#hotel-1 .show-info").click(function(){o(),v=!0,b=$(this).data("info_index")-1,$("#hoteldesclist li").eq(b).show(),$(this).hide(),$(this).siblings(".hide-info").show()}):"slick"===a&&$("#hotel-1 .show-info").click(function(){$("#hotel-1").slick("slickPause"),b=$(this).data("info_index")-1,$("#hoteldesclist li").eq(b).show(),$(this).hide(),$(this).siblings(".hide-info").show()}),$("#hotel-1 .hide-info").click(function(){b=$(this).data("info_index")-1,$("#hoteldesclist li").eq(b).hide(),$(this).hide(),$(this).siblings(".show-info").show()})}function h(a){"bxslider"===a?($("#hoteldesclist li").filter(":visible").hide(),$("#hotel-1 .toggle-info.hide-info").filter(":visible").hide(),$("#hotel-1 .toggle-info.show-info").filter(":hidden").show()):"slick"===a&&($("#hotel-1").slick("slickPlay"),$("#hoteldesclist li").filter(":visible").hide(),$("#hotel-1 .toggle-info.hide-info").filter(":visible").hide(),$("#hotel-1 .toggle-info.show-info").filter(":hidden").show())}function j(a){$("#hotel-1 .play-button").click(function(){"bxslider"===a?(o(),v=!0):"slick"===a&&$("#hotel-1").slick("slickPause");var b=$(this).parent("div").data("video_id");$(this).replaceWith('<iframe id="ytplayer" type="text/html" width="100%" height="100%" src="http://www.youtube.com/embed/'+b+'?autoplay=1&rel=0&controls=2&rel=0 frameborder="0"/>')})}function k(a){$("#hoteltable .scrollUp-button").click(function(){var b=$(this),c=b.data("index_position")-1;"bxslider"===a?x.goToSlide(c):"slick"===a&&$("#hotel-1").slick("slickGoTo",c),$("html, body").animate({scrollTop:$("#hotel-1-container").offset().top},10)})}function l(a){switch(a){case"bxslider":var b='<button class="play-button">Play Video</button>',c=$("#hotel-1 iframe");c.length>0&&c.replaceWith(b);break;case"slick":var b='<button class="play-button">Play Video</button>',c=$("#hotel-1 iframe");c.length>0&&(c.replaceWith(b),$("#hotel-1").slick("slickPlay"))}}function m(a,e,f){for(;$("#hotel-1 li").length>0;)$("#hotel-1").empty();$("#hoteltable tbody tr td.dataTables_empty").length>=1?b("bxslider"):$("#hoteltable tbody tr td.dataTables_empty").length<1&&(c(e,"bxslider"),x.reloadSlider({mode:"fade",pager:!1,onSliderLoad:function(b){d(f),p(),$("#hotel-2-container a.bx-prev, #hotel-2-container a.bx-next").on("mouseover",function(){v=!0}),$("#hotel-2-container a.bx-prev, #hotel-2-container a.bx-next").on("mouseout",function(){v=!1}),1>a?(y.goToSlide(0),$("#hotel-1 li:eq(0)").click(function(){y.goToSlide(0),t=0})):a>=1&&(x.goToSlide(a),y.goToSlide(a)),g("bxslider"),j("bxslider"),k("bxslider")},onSlideBefore:function(){h("bxslider")},onSlideAfter:function(b,c,d){l("bxslider"),a=d,y.goToSlide(d),p(),b.click(function(){t=0}),j("bxslider"),k("bxslider")}}))}function n(a,e,f){for(var i=$("#hotel-1").slick("slickCurrentSlide");$("#hotel-1 li").length>0;)$("#hotel-1").slick("slickRemove",!1);$("#hoteltable tbody tr td.dataTables_empty").length>=1?b("slick"):$("#hoteltable tbody tr td.dataTables_empty").length<1&&(c(a,"slick"),d(e),0!=i&&$("#hotel-1").slick("slickGoTo",i,!0),f=$("#hotel-1").slick("slickCurrentSlide"),h("slick"),l("slick"),$("#hotel-1").slick("slickPlay"),g("slick"),k("slick"),j("slick"),$("#hotel-1").on("afterChange",function(a,b,c){$("#hotel-2").slick("slickGoTo",c),h("slick"),l("slick"),j("slick")}))}function o(){for(i=0;i<9999;i++)window.clearInterval(i)}function p(){o(),t=0,v=!1,u=setInterval(q,10)}function q(){v===!1&&(t+=1/z,$("#progressBar").css({width:t+"%"}),t>=100&&(o(),x.goToNextSlide()))}var r=function(){var a={};return function(b,c,d){d||(d="failedID"),a.uniqueId&&clearTimeout(a.uniqueId),a.uniqueId=setTimeout(b,c)}}(),s=a();if(s===!1){var t,u,v,w=$("#hoteltable").DataTable(),x=$("#hotel-1").bxSlider({mode:"fade",pager:!1}),y=$("#hotel-2").bxSlider({pager:!1}),z=7;$("#hotel-1, #hotel-2").on("mouseover",function(){v=!0}),$("#hotel-1, #hotel-2").on("mouseout",function(){v=!1}),w.on("draw.dt",function(){o();for(var a,i;$("#hotel-2 li").length>0;)$("#hotel-2").empty();if($("#hoteltable tbody tr td.dataTables_empty").length>=1)e();else if($("#hoteltable tbody tr td.dataTables_empty").length<1){var n=0;$("#hoteltable tbody tr").each(function(){var a=$(this);if(i=w.row(a).data(),n++,"undefined"!=typeof i){var b=f(i,n);$("#hotel-2").append(b)}}),y.reloadSlider({minSlides:2,maxSlides:6,slideWidth:170,slideMargin:10,moveSlides:1,pager:!1,onSliderLoad:function(){$("#hotel-2 li").click(function(){var a=$(this).data("index_position");x.goToSlide(a-1)})}})}if($(window).width()>640){if($("#hoteltable tbody tr td.dataTables_empty").length>=1)b("bxslider");else if($("#hoteltable tbody tr td.dataTables_empty").length<1){for(;$("#hotel-1 li").length>0;)$("#hotel-1").empty();c("medium","bxslider"),x.reloadSlider({mode:"fade",pager:!1,onSliderLoad:function(){d("large"),p(),$("#hotel-2-container a.bx-prev, #hotel-2-container a.bx-next").on("mouseover",function(){v=!0}),$("#hotel-2-container a.bx-prev, #hotel-2-container a.bx-next").on("mouseout",function(){v=!1}),$("#hotel-1 li:eq(0)").click(function(){y.goToSlide(0),t=0}),g("bxslider"),j("bxslider"),k("bxslider")},onSlideBefore:function(){h("bxslider")},onSlideAfter:function(b,c,d){l("bxslider"),a=d,y.goToSlide(d),p(),b.click(function(){t=0}),j("bxslider"),k("bxslider")}})}}else if($(window).width()<=640)if($("#hoteltable tbody tr td.dataTables_empty").length>=1)b("bxslider");else if($("#hoteltable tbody tr td.dataTables_empty").length<1){for(;$("#hotel-1 li").length>0;)$("#hotel-1").empty();c("mobile","bxslider"),x.reloadSlider({mode:"fade",pager:!1,onSliderLoad:function(){d("small"),p(),$("#hotel-2-container a.bx-prev, #hotel-2-container a.bx-next").on("mouseover",function(){v=!0}),$("#hotel-2-container a.bx-prev, #hotel-2-container a.bx-next").on("mouseout",function(){v=!1}),$("#hotel-1 li:eq(0)").click(function(){y.goToSlide(0),t=0}),g("bxslider"),j("bxslider"),k("bxslider")},onSlideBefore:function(){h("bxslider")},onSlideAfter:function(b,c,d){l("bxslider"),a=d,y.goToSlide(d),p(),b.click(function(){t=0}),j("bxslider"),k("bxslider")}})}$(window).resize(function(){r(function(){$(window).width()>640?m(a,"medium","large"):$(window).width()<=640&&m(a,"mobile","small")},250,"hotel-1-slide-resize")})})}else{var w=$("#hoteltable").DataTable();$("#hotel-1").slick({slide:"li",fade:!0,autoplay:!0,autoplaySpeed:6e3,pauseOnHover:!1}),$("#hotel-2").slick({slide:"li",slidesToShow:5,slidesToScroll:1,lazyLoad:"progressive"}),w.on("draw.dt",function(){for(var a,e;$("#hotel-2 li").length>0;)$("#hotel-2").slick("slickRemove",!1);if($("#hoteltable tbody tr td.dataTables_empty").length<1){var i=0;$("#hoteltable tbody tr").each(function(){var a=$(this);if(e=w.row(a).data(),i++,"undefined"!=typeof e){var b=f(e,i);$("#hotel-2").slick("slickAdd",b,!1)}}),$("#hotel-2 li").click(function(){var a=$(this).data("index_position");$("#hotel-1").slick("slickGoTo",a-1)})}if($(window).width()>640){for(;$("#hotel-1 li").length>0;)$("#hotel-1").slick("slickRemove",!1);$("#hoteltable tbody tr td.dataTables_empty").length>=1?b("slick"):$("#hoteltable tbody tr td.dataTables_empty").length<1&&(c("medium","slick"),d("large"),$("#hotel-1").slick("slickPlay"),currentHotelSlide=$("#hotel-1").slick("slickCurrentSlide"),g("slick"),k("slick"),j("slick"),$("#hotel-1").on("afterChange",function(a,b,c){$("#hotel-2").slick("slickGoTo",c),h("slick"),l("slick"),j("slick")}))}else if($(window).width()<=640){for(;$("#hotel-1 li").length>0;)$("#hotel-1").slick("slickRemove",!1);$("#hoteltable tbody tr td.dataTables_empty").length>=1?b("slick"):$("#hoteltable tbody tr td.dataTables_empty").length<1&&(c("mobile","slick"),d("small"),$("#hotel-1").slick("slickPlay"),currentHotelSlide=$("#hotel-1").slick("slickCurrentSlide"),g("slick"),k("slick"),j("slick"),$("#hotel-1").on("afterChange",function(a,b,c){$("#hotel-2").slick("slickGoTo",c),h("slick"),l("slick"),j("slick")}))}$(window).resize(function(){r(function(){$(window).width()>640?n("medium","large",a):$(window).width()<=640&&n("mobile","small",a)},250,"hotel-1-slide-resize")})})}});