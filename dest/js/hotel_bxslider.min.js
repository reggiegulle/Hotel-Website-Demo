$(document).ready(function(){function a(a){switch(a){case"large":$(".hotel-1-slide-overlay-player").css({width:$(".hotel-1-slide").width()/2-10+"px",height:$(".hotel-1-slide").width()/3.047619047619048-10+"px",top:"5px",right:"5px","background-color":"rgba(255, 255, 255, 0.5)"});break;case"small":$(".hotel-1-slide-overlay-player").css({width:$(".hotel-1-slide").width()+"px",height:$(".hotel-1-slide").width()/1.777777777778+"px",top:"0px",right:"0px","background-color":"rgba(255, 255, 255, 0.25)"})}}function b(){var a='<button class="play-button">Play Video</button>',b=$("#hotel-1 div.player-activated");b.length>0&&(b.contents().replaceWith(a),b.removeClass("player-activated"))}var c=function(){var a={};return function(b,c,d){d||(d="failedID"),a.uniqueId&&clearTimeout(a.uniqueId),a.uniqueId=setTimeout(b,c)}}(),d=$("#hotel-1").bxSlider({mode:"fade",pager:!1}),e=$("#hotel-2").bxSlider({pager:!1}),f=$("#hoteltable").DataTable();f.on("draw.dt",function(){function h(){for(;$("#hotel-1 li").length>0;)$("#hotel-1").empty();var a='<li class="no_results">';a+="<p>",a+="Sorry, no search results found.  Please try again.",a+="</p>",a+="</li>",$("#hotel-1").append(a),d.reloadSlider({mode:"fade",pager:!1})}function i(){for(;$("#hotel-2 li").length>0;)$("#hotel-2").empty();e.reloadSlider({mode:"fade",pager:!1})}for(;$("#hotel-1 li").length>0;)$("#hotel-1").empty();for(;$("#hotel-2 li").length>0;)$("#hotel-2").empty();var j,k;if($("#hoteltable tbody tr td.dataTables_empty").length>=1)i();else if($("#hoteltable tbody tr td.dataTables_empty").length<1){var l=0;$("#hoteltable tbody tr").each(function(){var a=$(this);if(k=f.row(a).data(),"undefined"!=typeof k){l++;var b='<li data-index_position="'+l+'">';b+='<div class="hotel-2-slide">',b+='<img src="images/'+k.image.src+'-small.jpg" width="100%" height="100%" alt="'+k.image.src+'"></div>',b+="<h6>",b+=k.name,b+="</h6>",b+="<p>(",b+=k.category.category_filter,b+=")</p>",b+="</li>",$("#hotel-2").append(b)}}),e.reloadSlider({minSlides:2,maxSlides:6,slideWidth:170,slideMargin:10,moveSlides:1,pager:!1,onSliderLoad:function(){$("#hotel-2 li").click(function(){var a=$(this).data("index_position");d.goToSlide(a-1)})}})}$(window).width()>640?$("#hoteltable tbody tr td.dataTables_empty").length>=1?h():$("#hoteltable tbody tr td.dataTables_empty").length<1&&($("#hoteltable tbody tr").each(function(){var a=$(this);if(k=f.row(a).data(),"undefined"!=typeof k){var b="<li>";b+='<div class="hotel-1-slide">',b+='<img src="images/'+k.image.src+'-medium.jpg" width="100%" height="100%" alt="'+k.image.src+'"/>',b+='<div class="hotel-1-slide-overlay-player" data-video_id="'+k.image.video_id+'">',b+='<button class="play-button">',b+="Play Video",b+="</button>",b+="</div>",b+="</div>",b+="</li>",$("#hotel-1").append(b)}}),d.reloadSlider({mode:"fade",pager:!1,auto:!0,pause:6e3,autoHover:!0,onSliderLoad:function(){a("large"),g()},onSlideAfter:function(a,c,d){b(),g(),j=d,e.goToSlide(d)}})):$(window).width()<=640&&($("#hoteltable tbody tr td.dataTables_empty").length>=1?h():$("#hoteltable tbody tr td.dataTables_empty").length<1&&($("#hoteltable tbody tr").each(function(){var a=$(this);if(k=f.row(a).data(),"undefined"!=typeof k){var b="<li>";b+='<div class="hotel-1-slide">',b+='<img src="images/'+k.image.src+'-mobile.jpg" width="100%" height="100%" alt="'+k.image.src+'"/>',b+='<div class="hotel-1-slide-overlay-player" data-video_id="'+k.image.video_id+'">',b+='<button class="play-button">',b+="Play Video",b+="</button>",b+="</div>",b+="</div>",b+="</li>",$("#hotel-1").append(b)}}),d.reloadSlider({mode:"fade",pager:!1,auto:!0,pause:6e3,autoHover:!0,onSliderLoad:function(){a("small"),g()},onSlideAfter:function(a,c,d){b(),g(),j=d,e.goToSlide(d)}}))),$(window).resize(function(){c(function(){if($(window).width()>640){for(;$("#hotel-1 li").length>0;)$("#hotel-1").empty();$("#hoteltable tbody tr td.dataTables_empty").length>=1?h():$("#hoteltable tbody tr td.dataTables_empty").length<1&&($("#hoteltable tbody tr").each(function(){var a=$(this);if(k=f.row(a).data(),"undefined"!=typeof k){var b="<li>";b+='<div class="hotel-1-slide">',b+='<img src="images/'+k.image.src+'-medium.jpg" width="100%" height="100%" alt="'+k.image.src+'" />',b+='<div class="hotel-1-slide-overlay-player" data-video_id="'+k.image.video_id+'">',b+='<button class="play-button">',b+="Play Video",b+="</button>",b+="</div>",b+="</div>",b+="</li>",$("#hotel-1").append(b)}}),d.reloadSlider({mode:"fade",pager:!1,auto:!0,pause:6e3,autoHover:!0,onSliderLoad:function(){a("large"),1>j?e.goToSlide(0):j>=1&&(d.goToSlide(j),e.goToSlide(j)),g()},onSlideAfter:function(a,c,d){b(),g(),j=d,e.goToSlide(d)}}))}else if($(window).width()<=640){for(;$("#hotel-1 li").length>0;)$("#hotel-1").empty();$("#hoteltable tbody tr td.dataTables_empty").length>=1?h():$("#hoteltable tbody tr td.dataTables_empty").length<1&&($("#hoteltable tbody tr").each(function(){var a=$(this);if(k=f.row(a).data(),"undefined"!=typeof k){var b="<li>";b+='<div class="hotel-1-slide">',b+='<img src="images/'+k.image.src+'-mobile.jpg" width="100%" height="100%" alt="'+k.image.src+'" />',b+='<div class="hotel-1-slide-overlay-player" data-video_id="'+k.image.video_id+'">',b+='<button class="play-button">',b+="Play Video",b+="</button>",b+="</div>",b+="</div>",b+="</li>",$("#hotel-1").append(b)}}),d.reloadSlider({mode:"fade",pager:!1,auto:!0,pause:6e3,autoHover:!0,onSliderLoad:function(){a("small"),1>j?e.goToSlide(0):j>=1&&(d.goToSlide(j),e.goToSlide(j)),g()},onSlideAfter:function(a,c,d){b(),g(),j=d,e.goToSlide(d)}}))}},500,"hotel-1-slide-resize")})});var g=function(){return function(){$("#hotel-1 .play-button").each(function(){var a=$(this);a.click(function(){a.parent("div").addClass("player-activated");var b=a.parent("div").data("video_id");a.replaceWith('<iframe id="ytplayer" type="text/html" width="100%" height="100%" src="http://www.youtube.com/embed/'+b+'?autoplay=1&rel=0&controls=2&rel=0 frameborder="0"/>')})})}}()});