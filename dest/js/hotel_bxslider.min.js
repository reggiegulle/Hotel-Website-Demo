$(document).ready(function(){function a(){var a=window.navigator.userAgent,b=a.indexOf("MSIE ");if(b>0)return parseInt(a.substring(b+5,a.indexOf(".",b)),10);var c=a.indexOf("Trident/");if(c>0){var d=a.indexOf("rv:");return parseInt(a.substring(d+3,a.indexOf(".",d)),10)}var e=a.indexOf("Edge/"),f="edgeTrue";return e>0?f:!1}function b(){for(i=0;i<9999;i++)window.clearInterval(i)}function c(){b(),g=0,j=!1,h=setInterval(d,10)}function d(){j===!1&&(g+=1/o,$("#progressBar").css({width:g+"%"}),g>=100&&(b(),m.goToNextSlide()))}function e(a){switch(a){case"large":$(".hotel-1-slide-overlay-player").css({width:$(".hotel-1-slide").width()/2-10+"px",height:$(".hotel-1-slide").width()/3.047619047619048-10+"px",top:"5px",right:"5px","background-color":"rgba(255, 255, 255, 0.5)"});break;case"small":$(".hotel-1-slide-overlay-player").css({width:$(".hotel-1-slide").width()+"px",height:$(".hotel-1-slide").width()/1.777777777778+"px",top:"0px",right:"0px","background-color":"rgba(255, 255, 255, 0.25)"})}}function f(){var a='<button class="play-button">Play Video</button>',b=$("#hotel-1 iframe");b.length>0&&b.replaceWith(a)}var g,h,j,k=function(){var a={};return function(b,c,d){d||(d="failedID"),a.uniqueId&&clearTimeout(a.uniqueId),a.uniqueId=setTimeout(b,c)}}(),l=a(),m=$("#hotel-1").bxSlider({mode:"fade",pager:!1}),n=$("#hotel-2").bxSlider({pager:!1}),o=5;$("#hotel-1, #hotel-2").on("mouseover",function(){j=!0}),$("#hotel-1, #hotel-2").on("mouseout",function(){j=!1});var p=$("#hoteltable").DataTable();l===!1&&p.on("draw.dt",function(){function a(){for(;$("#hotel-1 li").length>0;)$("#hotel-1").empty();var a='<li class="no_results">';a+="<p>",a+="Sorry, no search results found.  Please try again.",a+="</p>",a+="</li>",$("#hotel-1").append(a),m.reloadSlider({mode:"fade",pager:!1}),b(),$("#progressBar").css({width:"0%"})}function d(){for(;$("#hotel-2 li").length>0;)$("#hotel-2").empty();n.reloadSlider({mode:"fade",pager:!1})}b();var h=0;for($("#hoteltable tbody tr div.table-thumb").each(function(){var a=$(this);h++,a.children(".play-button").length>0&&a.children(".play-button").remove(),a.append('<div class="play-button" data-index_position="'+h+'">Play Button</div>')});$("#hotel-1 li").length>0;)$("#hotel-1").empty();for(;$("#hotel-2 li").length>0;)$("#hotel-2").empty();var i,l;if($("#hoteltable tbody tr td.dataTables_empty").length>=1)d();else if($("#hoteltable tbody tr td.dataTables_empty").length<1){var h=0;$("#hoteltable tbody tr").each(function(){var a=$(this);if(l=p.row(a).data(),"undefined"!=typeof l){h++;var b='<li data-index_position="'+h+'">';b+='<div class="hotel-2-slide">',b+='<img src="images/'+l.image.src+'-small.jpg" width="100%" height="100%" alt="'+l.image.src+'"></div>',b+="<h6>",b+=l.name,b+="</h6>",b+="<p>(",b+=l.category.category_filter,b+=")</p>",b+="</li>",$("#hotel-2").append(b)}}),n.reloadSlider({minSlides:2,maxSlides:6,slideWidth:170,slideMargin:10,moveSlides:1,pager:!1,onSliderLoad:function(){$("#hotel-2 li").click(function(){var a=$(this).data("index_position");m.goToSlide(a-1)})}})}$(window).width()>640?$("#hoteltable tbody tr td.dataTables_empty").length>=1?a():$("#hoteltable tbody tr td.dataTables_empty").length<1&&($("#hoteltable tbody tr").each(function(){var a=$(this);if(l=p.row(a).data(),"undefined"!=typeof l){var b="<li>";b+='<div class="hotel-1-slide">',b+='<img src="images/'+l.image.src+'-medium.jpg" width="100%" height="100%" alt="'+l.image.src+'"/>',b+='<div class="hotel-1-slide-overlay-player" data-video_id="'+l.image.video_id+'">',b+='<button class="play-button">',b+="Play Video",b+="</button>",b+="</div>",b+="</div>",b+="</li>",$("#hotel-1").append(b)}}),m.reloadSlider({mode:"fade",pager:!1,onSliderLoad:function(a){e("large"),c(),$("#hotel-2-container a.bx-prev, #hotel-2-container a.bx-next").on("mouseover",function(){j=!0}),$("#hotel-2-container a.bx-prev, #hotel-2-container a.bx-next").on("mouseout",function(){j=!1}),$("#hotel-1 li:eq(0)").click(function(){n.goToSlide(0),g=0}),$("#hotel-1 .play-button").click(function(){b(),j=!0;var a=$(this).parent("div").data("video_id");$(this).replaceWith('<iframe id="ytplayer" type="text/html" width="100%" height="100%" src="http://www.youtube.com/embed/'+a+'?autoplay=1&rel=0&controls=2&rel=0 frameborder="0"/>')}),$("#hoteltable .play-button").click(function(){b(),j=!0,$("html, body").animate({scrollTop:$("#hotel-1-container").offset().top},1e3);var a=$(this),c=a.data("index_position")-1;a.siblings("img").data("video_id");m.goToSlide(c)})},onSlideAfter:function(a,d,e){f(),i=e,n.goToSlide(e),$("#hotel-1 .play-button").click(function(){b(),j=!0;var a=$(this).parent("div").data("video_id");$(this).replaceWith('<iframe id="ytplayer" type="text/html" width="100%" height="100%" src="http://www.youtube.com/embed/'+a+'?autoplay=1&rel=0&controls=2&rel=0 frameborder="0"/>')}),$("#hoteltable .play-button").click(function(){b(),j=!0,$("html, body").animate({scrollTop:$("#hotel-1-container").offset().top},1e3);var a=$(this);a.data("index_position")-1,a.siblings("img").data("video_id");m.goToSlide(e)}),c(),a.click(function(){g=0})}})):$(window).width()<=640&&($("#hoteltable tbody tr td.dataTables_empty").length>=1?a():$("#hoteltable tbody tr td.dataTables_empty").length<1&&($("#hoteltable tbody tr").each(function(){var a=$(this);if(l=p.row(a).data(),"undefined"!=typeof l){var b="<li>";b+='<div class="hotel-1-slide">',b+='<img src="images/'+l.image.src+'-mobile.jpg" width="100%" height="100%" alt="'+l.image.src+'"/>',b+='<div class="hotel-1-slide-overlay-player" data-video_id="'+l.image.video_id+'">',b+='<button class="play-button">',b+="Play Video",b+="</button>",b+="</div>",b+="</div>",b+="</li>",$("#hotel-1").append(b)}}),m.reloadSlider({mode:"fade",pager:!1,onSliderLoad:function(){e("small"),c(),$("#hotel-2-container a.bx-prev, #hotel-2-container a.bx-next").on("mouseover",function(){j=!0}),$("#hotel-2-container a.bx-prev, #hotel-2-container a.bx-next").on("mouseout",function(){j=!1}),$("#hotel-1 li:eq(0)").click(function(){n.goToSlide(0),g=0}),playBtnAction()},onSlideAfter:function(a,b,d){f(),playBtnAction(),i=d,n.goToSlide(d),c(),a.click(function(){g=0})}}))),$(window).resize(function(){k(function(){if($(window).width()>640){for(;$("#hotel-1 li").length>0;)$("#hotel-1").empty();$("#hoteltable tbody tr td.dataTables_empty").length>=1?a():$("#hoteltable tbody tr td.dataTables_empty").length<1&&($("#hoteltable tbody tr").each(function(){var a=$(this);if(l=p.row(a).data(),"undefined"!=typeof l){var b="<li>";b+='<div class="hotel-1-slide">',b+='<img src="images/'+l.image.src+'-medium.jpg" width="100%" height="100%" alt="'+l.image.src+'" />',b+='<div class="hotel-1-slide-overlay-player" data-video_id="'+l.image.video_id+'">',b+='<button class="play-button">',b+="Play Video",b+="</button>",b+="</div>",b+="</div>",b+="</li>",$("#hotel-1").append(b)}}),m.reloadSlider({mode:"fade",pager:!1,onSliderLoad:function(){e("large"),c(),$("#hotel-2-container a.bx-prev, #hotel-2-container a.bx-next").on("mouseover",function(){j=!0}),$("#hotel-2-container a.bx-prev, #hotel-2-container a.bx-next").on("mouseout",function(){j=!1}),1>i?(n.goToSlide(0),$("#hotel-1 li:eq(0)").click(function(){n.goToSlide(0),g=0})):i>=1&&(m.goToSlide(i),n.goToSlide(i)),playBtnAction()},onSlideAfter:function(a,b,d){f(),playBtnAction(),i=d,n.goToSlide(d),g=0,c(),a.click(function(){g=0})}}))}else if($(window).width()<=640){for(;$("#hotel-1 li").length>0;)$("#hotel-1").empty();$("#hoteltable tbody tr td.dataTables_empty").length>=1?a():$("#hoteltable tbody tr td.dataTables_empty").length<1&&($("#hoteltable tbody tr").each(function(){var a=$(this);if(l=p.row(a).data(),"undefined"!=typeof l){var b="<li>";b+='<div class="hotel-1-slide">',b+='<img src="images/'+l.image.src+'-mobile.jpg" width="100%" height="100%" alt="'+l.image.src+'" />',b+='<div class="hotel-1-slide-overlay-player" data-video_id="'+l.image.video_id+'">',b+='<button class="play-button">',b+="Play Video",b+="</button>",b+="</div>",b+="</div>",b+="</li>",$("#hotel-1").append(b)}}),m.reloadSlider({mode:"fade",pager:!1,onSliderLoad:function(){e("small"),c(),$("#hotel-2-container a.bx-prev, #hotel-2-container a.bx-next").on("mouseover",function(){j=!0}),$("#hotel-2-container a.bx-prev, #hotel-2-container a.bx-next").on("mouseout",function(){j=!1}),1>i?(n.goToSlide(0),$("#hotel-1 li:eq(0)").click(function(){n.goToSlide(0),g=0})):i>=1&&(m.goToSlide(i),n.goToSlide(i)),playBtnAction()},onSlideAfter:function(a,b,d){f(),playBtnAction(),i=d,n.goToSlide(d),g=0,c(),a.click(function(){g=0})}}))}},500,"hotel-1-slide-resize")})}),$("#hotel-1 .play-button").click(function(){b(),j=!0;var a=$(this).parent("div").data("video_id");$(this).replaceWith('<iframe id="ytplayer" type="text/html" width="100%" height="100%" src="http://www.youtube.com/embed/'+a+'?autoplay=1&rel=0&controls=2&rel=0 frameborder="0"/>')})});